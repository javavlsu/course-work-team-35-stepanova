<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Детали книги</title>
    <link rel="stylesheet" href="../css/styleReadNow.css"/>
</head>
<body>

<a href="index.html" class="back-link">&larr; Назад на главную</a>

<div class="main-wrapper">

    <div class="top-section">
        <div class="book-cover">Обложка</div>
        <div class="details-stack">
            <div class="detail-block"><strong>Название книги</strong>ААА</div>
            <div class="detail-block"><strong>Автор</strong>АА</div>
            <div class="detail-block annotation"><strong>Аннотация</strong><p>Краткое описание содержания книги.</p></div>
        </div>
    </div>

    <div class="bottom-blocks-row">
        <div class="bottom-block status-toggle" id="statusToggle">Прогресс</div>
        <div class="bottom-block">День Х</div>
        <div class="bottom-block status-toggle" id="notesToggle">Заметки</div>
    </div>

    <div class="status-dropdown" id="statusDropdown">
        <h3>Обновить статус книги</h3>
        <form>
            <div class="input-group">
                <label for="date-read">Дата отметки:</label>
                <input type="date" id="date-read">
            </div>

            <div class="input-group">
                <label for="pages-read">Отметка страниц:</label>
                <input type="number" id="pages-read" min="0" placeholder="Введите кол-во прочитанных страниц">
            </div>

            <div class="input-group">
                <label for="book-list">Положение в списке:</label>
                <select id="book-list">
                    <option value="reading">Чтение</option>
                    <option value="finished">Я все прочитал</option>
                    <option value="dropped">Сдаться</option>
                </select>
            </div>

            <button type="submit" class="save-btn">Сохранить изменения</button>
        </form>
    </div>

    <div class="notes-dropdown" id="notesDropdown">
        <h3>Заметки и комментарии</h3>
        <form>
            <div class="input-group">
                <label for="book-notes">Введите заметки по книге:</label>
                <textarea id="book-notes" rows="8" placeholder="Здесь вы можете записать свои мысли, идеи или цитаты."></textarea>
            </div>
            <button type="submit" class="save-btn">Сохранить заметки</button>
        </form>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const statusToggleBtn = document.getElementById('statusToggle');
        const statusDropdown = document.getElementById('statusDropdown');

        const notesToggleBtn = document.getElementById('notesToggle');
        const notesDropdown = document.getElementById('notesDropdown');

        // Функция для переключения любого дропдауна
        function toggleDropdown(button, dropdown, otherDropdown) {
            if (dropdown.style.display === 'block') {
                dropdown.style.display = 'none';
                button.style.backgroundColor = '#e8f8f5';
            } else {
                dropdown.style.display = 'block';
                button.style.backgroundColor = '#d1efea';

                // Скрываем другой дропдаун, чтобы они не накладывались
                if (otherDropdown && otherDropdown.style.display === 'block') {
                    otherDropdown.style.display = 'none';
                    // Сбрасываем фон другой кнопки (предполагаем, что ей является statusToggleBtn или notesToggleBtn)
                    if (otherDropdown === statusDropdown) {
                        statusToggleBtn.style.backgroundColor = '#e8f8f5';
                    } else if (otherDropdown === notesDropdown) {
                        notesToggleBtn.style.backgroundColor = '#e8f8f5';
                    }
                }
            }
        }

        // Обработчик для "Прогресс"
        statusToggleBtn.addEventListener('click', function() {
            toggleDropdown(statusToggleBtn, statusDropdown, notesDropdown);
        });

        // Обработчик для "Заметки"
        notesToggleBtn.addEventListener('click', function() {
            toggleDropdown(notesToggleBtn, notesDropdown, statusDropdown);
        });
    });
</script>

</body>
</html>