<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–î–µ—Ç–∞–ª–∏ –∫–Ω–∏–≥–∏</title>
    <link rel="stylesheet" href="../css/styleReadNow.css"/>
</head>
<body>


<header class="universal-header">
    <div class="header-left">
        <a href="index.html" class="logo">Book Tracker</a>
    </div>

    <nav class="header-nav">
        <a href="readNow.html" class="nav-item">–ß–∏—Ç–∞—é</a>
        <a href="library.html" class="nav-item">–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞</a>
        <a href="plans.html" class="nav-item">–ü–ª–∞–Ω—ã</a>
    </nav>

    <div class="search-container">
        <input type="text" id="search-input" class="search-input" placeholder="–ü–æ–∏—Å–∫ –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ..." onkeypress="if(event.key === 'Enter') performSearch()">
        <button onclick="performSearch()" style="cursor:pointer; background:none; border:none;">üîç</button>
    </div>

    <div class="header-right">
        <a href="login.html" class="auth-link">–ü—Ä–æ—Ñ–∏–ª—å</a>
    </div>
</header>
<main class="page-content">
    <div class="main-wrapper">
        <div class="slider-container" style="display: flex; align-items: center; gap: 15px;">
            <button class="nav-btn" onclick="changeBook(-1)" style="cursor:pointer; padding: 10px;">&larr;</button>

            <div class="top-section" id="book-content" style="flex-grow: 1;">
                <div class="book-cover">
                    <img src="../image/–≤–µ–¥—å–º–∞–∫.jpg" alt="–û–±–ª–æ–∂–∫–∞ –∫–Ω–∏–≥–∏" id="bookCoverImg">
                </div>
                <div class="details-stack">
                    <div class="detail-block"><strong>–ù–∞–∑–≤–∞–Ω–∏–µ –∫–Ω–∏–≥–∏</strong><span id="titleDisplay">–í–µ–¥—å–º–∞–∫: –ü–æ—Å–ª–µ–¥–Ω–µ–µ –∂–µ–ª–∞–Ω–∏–µ</span></div>
                    <div class="detail-block"><strong>–ê–≤—Ç–æ—Ä</strong><span id="authorDisplay">–ê–Ω–¥–∂–µ–π –°–∞–ø–∫–æ–≤—Å–∫–∏–π</span></div>
                    <div class="detail-block annotation"><strong>–ê–Ω–Ω–æ—Ç–∞—Ü–∏—è</strong>
                        <p id="descDisplay">–ò—Å—Ç–æ—Ä–∏—è –æ –≤–µ–¥—å–º–∞–∫–µ –ì–µ—Ä–∞–ª—å—Ç–µ, –∫–æ—Ç–æ—Ä—ã–π —Å—Ä–∞–∂–∞–µ—Ç—Å—è —Å –º–æ–Ω—Å—Ç—Ä–∞–º–∏ –≤ –º–∏—Ä–µ, –≥–¥–µ –ª—é–¥–∏ —á–∞—Å—Ç–æ –æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Å—Ç—Ä–∞—à–Ω–µ–µ —á—É–¥–æ–≤–∏—â.</p>
                    </div>
                </div>
            </div>

            <button class="nav-btn" onclick="changeBook(1)" style="cursor:pointer; padding: 10px;">&rarr;</button>
        </div>

        <div class="bottom-blocks-row">
            <div class="bottom-block status-toggle" id="statusToggle">–ü—Ä–æ–≥—Ä–µ—Å—Å</div>
            <div class="bottom-block" id="dayDisplay">–î–µ–Ω—å 12</div>
            <div class="bottom-block status-toggle" id="notesToggle">–ó–∞–º–µ—Ç–∫–∏</div>
        </div>

        <div class="status-dropdown" id="statusDropdown">
            <h3>–û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∫–Ω–∏–≥–∏</h3>
            <form>
                <div class="input-group">
                    <label for="date-read">–î–∞—Ç–∞ –æ—Ç–º–µ—Ç–∫–∏:</label>
                    <input type="date" id="date-read">
                </div>
                <div class="input-group">
                    <label for="pages-read">–û—Ç–º–µ—Ç–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü:</label>
                    <input type="number" id="pages-read" min="0" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–æ–ª-–≤–æ —Å—Ç—Ä–∞–Ω–∏—Ü">
                </div>
                <div class="input-group">
                    <label for="book-list">–ü–æ–ª–æ–∂–µ–Ω–∏–µ –≤ —Å–ø–∏—Å–∫–µ:</label>
                    <select id="book-list">
                        <option value="reading">–ß—Ç–µ–Ω–∏–µ</option>
                        <option value="finished">–Ø –≤—Å–µ –ø—Ä–æ—á–∏—Ç–∞–ª</option>
                        <option value="dropped">–°–¥–∞—Ç—å—Å—è</option>
                    </select>
                </div>
                <button type="submit" class="save-btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è</button>
            </form>
        </div>

        <div class="notes-dropdown" id="notesDropdown">
            <h3>–ó–∞–º–µ—Ç–∫–∏ –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏</h3>
            <form>
                <div class="input-group">
                    <label for="book-notes">–í–≤–µ–¥–∏—Ç–µ –∑–∞–º–µ—Ç–∫–∏ –ø–æ –∫–Ω–∏–≥–µ:</label>
                    <textarea id="book-notes" rows="8" placeholder="–í–∞—à–∏ –º—ã—Å–ª–∏..."></textarea>
                </div>
                <button type="submit" class="save-btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∑–∞–º–µ—Ç–∫–∏</button>
            </form>
        </div>
    </div>
</main>



<script>
    function performSearch() {
        const query = document.getElementById('search-input').value.trim();
        if (query) {
            // –ü–µ—Ä–µ—Ö–æ–¥–∏–º –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∏ –ø–µ—Ä–µ–¥–∞–µ–º –∑–∞–ø—Ä–æ—Å —á–µ—Ä–µ–∑ URL –ø–∞—Ä–∞–º–µ—Ç—Ä ?q=
            window.location.href = `library.html?q=${encodeURIComponent(query)}`;
        }
    }
    // 1. –î–ê–ù–ù–´–ï –î–õ–Ø –°–õ–ê–ô–î–ï–†–ê
    const booksData = [
        {
            title: "–í–µ–¥—å–º–∞–∫: –ü–æ—Å–ª–µ–¥–Ω–µ–µ –∂–µ–ª–∞–Ω–∏–µ",
            author: "–ê–Ω–¥–∂–µ–π –°–∞–ø–∫–æ–≤—Å–∫–∏–π",
            desc: "–ò—Å—Ç–æ—Ä–∏—è –æ –≤–µ–¥—å–º–∞–∫–µ –ì–µ—Ä–∞–ª—å—Ç–µ, –∫–æ—Ç–æ—Ä—ã–π —Å—Ä–∞–∂–∞–µ—Ç—Å—è —Å –º–æ–Ω—Å—Ç—Ä–∞–º–∏ –≤ –º–∏—Ä–µ, –≥–¥–µ –ª—é–¥–∏ —á–∞—Å—Ç–æ –æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Å—Ç—Ä–∞—à–Ω–µ–µ —á—É–¥–æ–≤–∏—â.",
            cover: "../image/–≤–µ–¥—å–º–∞–∫.jpg",
            day: "–î–µ–Ω—å 12",
            color: "#ccc"
        },
        {
            title: "1984",
            author: "–î–∂–æ—Ä–¥–∂ –û—Ä—É—ç–ª–ª",
            desc: "–†–æ–º–∞–Ω-–∞–Ω—Ç–∏—É—Ç–æ–ø–∏—è –æ –∂–∏–∑–Ω–∏ –≤ —Ç–æ—Ç–∞–ª–∏—Ç–∞—Ä–Ω–æ–º –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ, –≥–¥–µ '–°—Ç–∞—Ä—à–∏–π –±—Ä–∞—Ç —Å–ª–µ–¥–∏—Ç –∑–∞ —Ç–æ–±–æ–π'.",
            cover: "../image/1984.jpg",
            day: "–î–µ–Ω—å 5",
            color: "#b2d1f0"
        }
    ];

    let currentBookIndex = 0;

    function changeBook(direction) {
        currentBookIndex += direction;
        if (currentBookIndex < 0) currentBookIndex = booksData.length - 1;
        if (currentBookIndex >= booksData.length) currentBookIndex = 0;

        const book = booksData[currentBookIndex];

        // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
        document.getElementById('titleDisplay').innerText = book.title;
        document.getElementById('authorDisplay').innerText = book.author;
        document.getElementById('descDisplay').innerText = book.desc;
        document.getElementById('dayDisplay').innerText = book.day;

        // –û–ë–ù–û–í–õ–Ø–ï–ú –§–û–¢–û–ì–†–ê–§–ò–Æ
        const coverImg = document.getElementById('bookCoverImg');
        if (coverImg) {
            coverImg.src = book.cover;
            coverImg.alt = book.title;
        }
    }

    // 2. –õ–û–ì–ò–ö–ê –í–´–ü–ê–î–ê–Æ–©–ò–• –û–ö–û–ù
    document.addEventListener('DOMContentLoaded', function() {
        const statusToggleBtn = document.getElementById('statusToggle');
        const statusDropdown = document.getElementById('statusDropdown');
        const notesToggleBtn = document.getElementById('notesToggle');
        const notesDropdown = document.getElementById('notesDropdown');

        function toggleDropdown(button, dropdown, otherDropdown, otherButton) {
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —á–µ—Ä–µ–∑ getComputedStyle, —Ç–∞–∫ –∫–∞–∫ display –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–¥–∞–Ω –≤ CSS
            const isVisible = window.getComputedStyle(dropdown).display === 'block';

            if (isVisible) {
                dropdown.style.display = 'none';
                button.style.backgroundColor = '#953642';
            } else {
                // –°–∫—Ä—ã–≤–∞–µ–º –¥—Ä—É–≥–æ–µ –æ–∫–Ω–æ, –µ—Å–ª–∏ –æ–Ω–æ –æ—Ç–∫—Ä—ã—Ç–æ
                if (otherDropdown) {
                    otherDropdown.style.display = 'none';
                    if (otherButton) otherButton.style.backgroundColor = '#b66a72';
                }
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–µ–∫—É—â–µ–µ
                dropdown.style.display = 'block';
                button.style.backgroundColor = '#953642';
            }
        }

        if (statusToggleBtn && statusDropdown) {
            statusToggleBtn.addEventListener('click', function() {
                toggleDropdown(statusToggleBtn, statusDropdown, notesDropdown, notesToggleBtn);
            });
        }

        if (notesToggleBtn && notesDropdown) {
            notesToggleBtn.addEventListener('click', function() {
                toggleDropdown(notesToggleBtn, notesDropdown, statusDropdown, statusToggleBtn);
            });
        }
    });


</script>

</body>
</html>